<div class="border-end text-white p-3" id="sidebar-wrapper">
  <h5>Filters</h5>

  <label>Skills</label>
  <div class="w-100 mb-2 position-relative">
    <button class="btn btn-light w-100" type="button" (click)="toggleSkillsDropdown()">
      {{ selectedSkills.length ? selectedSkills.length + ' selected' : 'Select skills' }}
    </button>
    <ul class="list-group position-absolute w-100" *ngIf="skillsOpen" style="z-index:1000; max-height: 240px; overflow:auto;">
      <li class="list-group-item d-flex justify-content-between align-items-center sticky-top bg-white">
        <span class="fw-semibold">Select skills</span>
        <button type="button" class="btn btn-sm btn-outline-secondary" (click)="skillsOpen=false" aria-label="Close">&times;</button>
      </li>
      <li *ngFor="let s of availableSkills" class="list-group-item">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" [id]="'skill_'+s" [checked]="selectedSkills.includes(s)" (change)="onSkillToggle(s, $event)">
          <label class="form-check-label" [for]="'skill_'+s">{{ s }}</label>
        </div>
      </li>
    </ul>
  </div>
  <div class="mb-2">
    <span *ngFor="let s of selectedSkills" class="badge bg-primary me-1">{{ s }}</span>
  </div>

  <label>Locations</label>
  <div class="w-100 mb-2 position-relative">
    <button class="btn btn-light w-100" type="button" (click)="toggleLocationsDropdown()">
      {{ selectedLocations.length ? selectedLocations.length + ' selected' : 'Select locations' }}
    </button>
    <ul class="list-group position-absolute w-100" *ngIf="locationsOpen" style="z-index:1000; max-height: 240px; overflow:auto;">
      <li class="list-group-item d-flex justify-content-between align-items-center sticky-top bg-white">
        <span class="fw-semibold">Select locations</span>
        <button type="button" class="btn btn-sm btn-outline-secondary" (click)="locationsOpen=false" aria-label="Close">&times;</button>
      </li>
      <li *ngFor="let l of availableLocations" class="list-group-item">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" [id]="'loc_'+l" [checked]="selectedLocations.includes(l)" (change)="onLocationToggle(l, $event)">
          <label class="form-check-label" [for]="'loc_'+l">{{ l }}</label>
        </div>
      </li>
    </ul>
  </div>
  <div class="mb-2">
    <span *ngFor="let l of selectedLocations" class="badge bg-success me-1">{{ l }}</span>
  </div>

  <label>Enter Years of Experience</label>
  <input type="number" class="form-control mb-2" [ngModel]="years" (ngModelChange)="yearsChange.emit($event)" (keypress)="onKeyPress($event)" min="1">

  <label>Min Salary</label>
  <input type="number" class="form-control mb-2" [ngModel]="minSalary" (ngModelChange)="minSalaryChange.emit($event)" (keypress)="onKeyPress($event)" min="1">

  <label>Max Salary</label>
  <input type="number" class="form-control mb-2" [ngModel]="maxSalary" (ngModelChange)="maxSalaryChange.emit($event)" (keypress)="onKeyPress($event)" min="1">

  <button class="btn btn-primary w-100 mb-2" (click)="apply.emit()">Apply</button>
  <button class="btn btn-secondary w-100" (click)="reset.emit()">Reset</button>

  <div class="form-check form-switch mt-3">
    <input class="form-check-input" type="checkbox" id="blindMode" [ngModel]="blindMode" (ngModelChange)="blindModeChange.emit($event)">
    <label class="form-check-label" for="blindMode">Blind screening</label>
  </div>
</div>


